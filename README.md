<h1 align = "center">Automated Portable Weather Station</h1>

<p align="center" Title="Weater Station">
  <img src="https://github.com/user-attachments/assets/dd0bddf5-7d65-4545-a3c4-764b90bc3982" />
</p>

A portable weather station offers portability, accurate data, and enhanced safety. It can be easily transported to different locations, providing precise and localized forecasts. This helps in decision-making for various activities and sectors. The station's portability enables monitoring of essential parameters, alerting users to potential weather hazards in advance. With measurements of temperature, humidity, thermal sensation, wind speed, wind direction, UV index, rain fall and then you can process the data and analyze it. In this repository, you will find everything about this project.

# Content 

I developed this project during a course I took while studying abroad in Germany. The goal was to create a portable weather station capable of reliably measuring weather conditions. A key advantage of this device is its portability, allowing users to easily move it to various locations of interest for weather analysis. All collected data is stored on an SD card, enabling users to retrieve and analyze the information after measurements are complete.

The device also creates a local network, allowing users to connect via Wi-Fi and view real-time data when near the station. Currently, the data is only stored on the SD card, which is ideal for remote or rural areas without Wi-Fi connectivity. However, it's possible to implement both SD card storage and real-time data transmission, and I will discuss this further in the repository.

Another purpose of the portable weather station is to facilitate demonstrations and presentations by universities. The fully functional device can be easily transported for public demonstrations, where people can interact with it through the local network. These exhibitions also provide an opportunity to explain how the device works and the benefits of continuous weather monitoring at specific locations.

## Code Logic 

<p>You can find the entire source code <a href="https://github.com/DCenten0/Automated_Portable_Weather_Station/blob/main/WeatherStationCode.ino" title="WS_Code">
here.</a></p>

The logic of the program is divided into 5 important functions of which 4 of them are in charge of carrying out the measurement and calculation of the different values of each sensor and the last remaining one in the storage of the data in the MicroSD. Separating each function in this way we can create a multiprogramming environment which is extremely important in this type of project that uses many resources at the same time. This will also create a list and proper times of each component. For example, data can be stored in the SD while a user connects to the server. These processes will never be interrupted thanks to the task manager created with the millis() function.

<h3>Sensor Readings:</h3>

**read_Temp_Humi():** This function is responsible for measuring temperature and humidity using the DHT22 sensor. First, the humidity and temperature are read in degrees Celsius. If the reading from any of the sensors is invalid, an error message is displayed on the serial port. In addition to obtaining the measurements, the thermal sensation (heat index) is also calculated using the Steadman formula, which takes humidity into account to estimate how the human body perceives temperature.

**getRainfall():** This function takes care of measuring the amount of rain that has fallen. For this, a rain gauge is used, which records the number of times the rain causes a mechanism to activate (in this case, the countRain() function). Each time the mechanism is activated, a counter representing the number of times it has rained is incremented. The getRainfall() function takes the value of the counter and converts it to a rain measurement in millimeters, considering a relationship between the activations and the amount of rain.

**UV_WindDir():** This function is responsible for obtaining the intensity of ultraviolet (UV) radiation and the direction of the wind. The ADS1115 module is used to read the analog value of the UV radiation sensor and then this value is mapped to a scale of 0 to 11 to represent the percentage of UV intensity. In addition, the ADS1115 module is also used to measure the analog value of the wind direction sensor. The UV_WindDir() function interprets the read value and determines the wind direction based on predefined ranges for different cardinal directions.

**countPulse():** This function is responsible for measuring the wind speed using an anemometer. The anemometer is designed to generate pulses when driven by the wind. Each time a pulse is detected, a counter representing the number of pulses generated by the anemometer in a specified time interval is incremented. The loop() function then calculates the wind speed from the number of pulses and a scale factor based on the anemometer's calibration.

<h3>Data Logging:</h3>

**SaveFun():** Every five minutes, the sensor readings are saved to a CSV file on the SD card. The data includes the timestamp, temperature, humidity, thermal sensation, total rainfall, wind speed, wind direction, and UV intensity.

<p>As well you can find the circuit diagram <a href="https://github.com/DCenten0/Automated_Portable_Weather_Station/blob/main/Schematic_Weather_Station_2023-07-06.pdf" title="Circuit_Diagram">
here.</a></p>

<h2>The sensors used were:</h2>

| Measurement        | Sensor                                    | Measurement unit |
|--------------------|:-----------------------------------------:|-----------------:|
| Temperature        | DHT22                                     | ºC               |
| Humidity           | DHT22                                     | RH               |
| Thermal sensation  | DHT22                                     | ºC               |
| Wind Direction     | Sparkfun Weather station kit (SEN-08942)  | Cardinal Points  |
| Wind Speed         | Sparkfun Weather station kit (SEN-08942)  | m/s              |
| Rain Gauge         | Sparkfun Weather station kit (SEN-08942)  | mm               |
| UV index sensor    | P1918 UV sensor                           | 1-11             |


<h2>Local Web page data View</h2> 

<p Title="Web Data View">
  <img src="https://github.com/user-attachments/assets/526e0cb6-bab2-4294-b1b2-99ff32cde995" />
</p>

